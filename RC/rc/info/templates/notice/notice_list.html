{% extends 'index_base.html' %}
{% load staticfiles %}
<script src='{% static "lib/jquery/jquery.min.js" %}'></script>
{% block content %}
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<!-- <link rel="stylesheet" href="/resources/demos/style.css"> -->
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<style>
    .btn{
        border: 1px solid rgb(113, 197, 93);
        border-radius: 7px;
        color: #fff;
        background-color: rgb(113, 197, 93);
        font-size: 11px;
        font-weight: 800;
        padding: 6px 21px;
        margin: 22px;
    }
    .page-item.active .page-link{
        background-color: rgb(113, 197, 93) !important;
        border-color: rgb(113, 197, 93) !important;
    }
    tr.tag_title:hover{
        background-color: lightgrey;
    }
</style>
<div class="side_bar" style="float: left; border-top: 1px solid #71c55d; border-bottom: 1px solid #71c55d; margin-left: 40px; background-color: white">
    <div style="padding: 20px; background-color: #71c55d;"><div class="" href="{% url 'board:list' %}" style="text-align: center; color: white; font-weight: bold;"> 정 보 마 당 </div></div>
    <div style="border: 1px solid white;"></div>
    <div id="btn_board_type_1" style="padding: 20px; background-color: #71c55d;"><a class="btn_board_type_1" value="1" href="{% url 'info:list' %}" style="text-align: center; font-weight: bold;">공 지 사 항</a></div>
    <div style="border: 1px solid white;"></div>
    <div id="btn_board_type_2" style="padding: 20px;"><a class="btn_board_type_2" href="#" value="2" onclick="" style="text-align: center; font-weight: bold;">통 계 자 료</a></div>
</div>
<input type="hidden" id="user_type" name="user_type" value="{{ user.profile.type }}">
<input type="hidden" id="board_type" name="board_type" value="">
<div class="content board_content" style="margin-left: 20%;margin-top: 10%;margin-right: 20%;margin-bottom: 30%">
    <table class="table">
        <thead class="thead-dark">
            <colgroup>
                <th scope="col" width="40%">번호</th>
                <th scope="col" width="40%">제목</th>
                <th scope="col" width="20%">날짜</th>
            </colgroup>
        </thead>
        <tbody>
            {% for text in notice_list %}
                <tr class="tag_title">
                    <td>{{ text.id }}</td>
                    <td>{{ text.title }}</td>
                    <td>{{ text.modify_date}}</td>
                </tr>
                <tr class="tag_content" style="display:none">
                    <td colspan="3">
                        <div align="center" style="min-height: 5em">{{ text.content }}</div>
                    </td>
                </tr>
            {% endfor %}
            {% for li in remain_of_page %}
                <tr><td colspan="6">&nbsp;</td></tr>
            {% endfor %}
        </tbody>
    </table>
    <nav aria-label="Page navigation" style="margin-left: 50%">
      <ul class="pagination">
        {% if has_prev %}
            <li class="page-item">
              <a class="page-link" href="?page={{ prev_page }}" aria-label="Previous">
                <span aria-hidden="true">«</span>
                <span class="sr-only">Previous</span>
              </a>
            </li>
        {% endif %}
        {% for i in num_pages %}
            {% if page_obj.number == i %}
                <li class="active page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
            {% else %}
                <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
            {% endif %}
        {% endfor %}
        {% if has_next %}
            <li class="page-item">
              <a class="page-link" href="?page={{ next_page }}" aria-label="Next">
                <span aria-hidden="true">»</span>
                <span class="sr-only">Next</span>
              </a>
            </li>
        {% endif %}
      </ul>
    </nav>
</div>
<script type="text/javascript">
    // function toggle_content(id){
    //     var title_class = '.tag_title' + id;
    //     var content_class = '.tag_content' + id;
    //     // $(content_class).toggle('slide');
    //     runEffect(content_class);
    // }

    // function runEffect(content_class) {
    //   // Run the effect
    //   $(content_class).next().slideToggle(250);
    // };

    $(".tag_title").on( "click", function() {
        $(this).next().slideToggle(250);
        $fexpand = $(this).find(">:first-child");
        if ($(this).hasClass('opened')) {
            $(this).removeClass('opened');
        } else {
            $(this).addClass('opened');
        };
    });
</script>

{% endblock content %}
